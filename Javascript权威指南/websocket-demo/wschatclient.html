<html>  
    <head>  
        <title>Chat Client</title>  
        <script type="text/javascript">
			window.onload = function() {
				var nick = prompt("Enter your nickname: ");
				var input = document.getElementById("input");
				input.focus();

				var socket = new WebSocket("ws://" + location.host + "/");

				socket.onmessage =  function(event) {
					var msg = event.data;
					var node = document.createTextNode(msg);
					var div = document.createElement("div");
					div.appendChild(node);
					document.body.insertBefore(div, input);
					input.scrollIntoView();
				}

				input.onchange = function() {
					var msg = nick + ": " + input.value;
					socket.send(msg);
					input.value = "";
				}
			}
		</script>
    </head>
    <body> 
    	<input type="text" id="input" style="width: 100%;">
    </body>
</html>

